<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <title>Game Details</title>
 <link rel="stylesheet" href="style.css">
 <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Estonia&family=Fugaz+One&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Pixelify+Sans:wght@400..700&display=swap" rel="stylesheet">

</head>
<body>
 <a href="index.html">‚Üê Back to all games</a>
 <div id="gameDetail"></div>


 <script>
   // Extract game ID from URL
   const params = new URLSearchParams(window.location.search);
   const gameId = params.get('id');


   // Load games data from JSON
   fetch('games.json')
     .then(response => response.json())
     .then(data => {
       const game = data.find(g => g.id === gameId);
       displayGameDetails(game);
     });


   function displayGameDetails(game) {
     const container = document.getElementById('gameDetail');
     const currentUser = document.getItem('currentUser');
     const allComments = JSON.parse(localStorage.getItem("comments")||"{}");
     const gameComments = allComments[game.id]||[];


     container.innerHTML = `
       <h2 class="game-title">${game.title}</h2>
       <iframe width="800" height="400" src=${game.trailer} title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
       <p><strong>Release:</strong> ${game.release}</p>
       <p><strong>Developer:</strong> ${game.developer}</p>
       <p><strong>Genre:</strong> ${game.genre}</p>
       <p><strong>Players:</strong> ${game.players}</p>
       <p><strong>Age:</strong> ${game.age}</p>
       <p><strong>Languages:</strong> ${game.languages.join(', ')}</p>
       <p><strong>Description:</strong> ${game.description}</p>

       <div class="commentSection"> 
        <h2> Leave a review! </h2>
        <label for ="ratingInput"> Rate 1~5 </label>
        <input type="number" id="ratingInput" min="1" max="5">
        <label for ="commentInput"> Write your review in here </label>
        <textarea id="commentInput" row="3" cols="50"> </textarea>
      </div>
     `;
   }
 </script>
</body>
</html>
